{"metadata":"{\"defaultCompiler\":{\"version\":\"0.8.0\"},\"sources\":{\"contracts/Holons.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity ^0.8;\\n\\n/*\\n    Copyright 2020, Roberto Valenti\\n\\n    This program is free software: you can use it, redistribute it and/or modify\\n    it under the terms of the Peer Production License as published by\\n    the P2P Foundation.\\n    \\n    https://wiki.p2pfoundation.net/Peer_Production_License\\n\\n    This program is distributed in the hope that it will be useful,\\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n    Peer Production License for more details.\\n */\\n\\n\\ncontract Holons {\\n\\n    mapping (address => address[]) private holons;\\n    mapping (string => address) public toAddress;   //NOTE: Remove on deploy\\n\\n    event NewHolon (string name, address addr);\\n\\n    function newHolon(string memory _flavor, string memory _name, uint _parameter) public returns (address) {\\n        require(flavors[_flavor] != address(0), \\\"Flavor with this name does not exist\\\");\\n        address flavorAddress = flavors[_flavor];\\n\\n        (bool success, bytes memory result) = flavorAddress.delegatecall(\\n            abi.encodeWithSignature(\\\"newHolon(string,uint256)\\\", _name, _parameter)\\n        );\\n        \\n        require(success, \\\"Holon creation failed\\\");\\n        address holonAddress = abi.decode(result, (address));\\n        emit NewHolon( _name, holonAddress);\\n        \\n        return holonAddress;\\n    }\\n\\n    mapping (string => address) private flavors;\\n    string[] public knownflavors;\\n\\n    event NewFlavor(address indexed flavor, string name);\\n    \\n    function newFlavor(string calldata _flavorname, address _flavoraddress) public {\\n        require(flavors[_flavorname] == address(0), \\\"Flavor with this name already exists\\\");\\n        flavors[_flavorname] = _flavoraddress;\\n        knownflavors.push(_flavorname);\\n        emit NewFlavor( _flavoraddress,  _flavorname);\\n    }\\n    \\n\\n    function getFlavorAddress(string memory _name) public view returns (address) {\\n        require(flavors[_name] != address(0), \\\"Flavor with this name does not exist\\\");\\n        return flavors[_name];\\n    }\\n\\n    // returns the list of flavors\\n    function listFlavors() public view returns (string [] memory ) {\\n        return knownflavors;\\n    }\\n\\n        /// @dev Lists every holons ever created\\n    /// @return an array containing the address of every holon ever created.\\n\\n    function listHolons() external view returns (address[] memory ){\\n        return holons[address(0)];\\n    }\\n\\n    /// @dev Lists every holons created by a given address\\n    /// @param _address address;\\n    /// @return an array containing the address of every holon ever created.\\n\\n    function listHolonsOf(address _address) external view returns (address[] memory){\\n        return holons[_address];\\n    }\\n}\\n\",\"versionPragma\":\"^0.8\"}}}","address":"0x5FC8d32690cc91D4c39d9d3abcBD16989F875707","bytecode":"0x608060405234801561001057600080fd5b50610ce7806100206000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c80637e4115ba1161005b5780637e4115ba146100fe578063dfee571714610111578063e5c2337414610131578063f690335a1461013957610088565b80630babba861461008d5780631bef6cd4146100b65780632c0e7860146100cb5780637b72401f146100de575b600080fd5b6100a061009b366004610938565b61014e565b6040516100ad9190610a12565b60405180910390f35b6100be6102e1565b6040516100ad9190610a73565b6100a06100d93660046108fd565b6103ba565b6100f16100ec3660046109a2565b61043d565b6040516100ad9190610b02565b6100a061010c3660046108fd565b6104e9565b61012461011f366004610840565b61050f565b6040516100ad9190610a26565b610124610583565b61014c61014736600461087f565b61060b565b005b6000806001600160a01b031660028560405161016a91906109e6565b908152604051908190036020019020546001600160a01b031614156101aa5760405162461bcd60e51b81526004016101a190610b61565b60405180910390fd5b60006002856040516101bc91906109e6565b908152604051908190036020018120546001600160a01b03169150600090819083906101ee9088908890602401610b3f565b60408051601f198184030181529181526020820180516001600160e01b0316630e43cb2760e41b1790525161022391906109e6565b600060405180830381855af49150503d806000811461025e576040519150601f19603f3d011682016040523d82523d6000602084013e610263565b606091505b5091509150816102855760405162461bcd60e51b81526004016101a190610ba5565b60008180602001905181019061029b9190610863565b90507f10d047031611691941b661f2160741619b4030812eb79997f4b3734ed5605a4387826040516102ce929190610b15565b60405180910390a1979650505050505050565b60606003805480602002602001604051908101604052809291908181526020016000905b828210156103b157838290600052602060002001805461032490610c48565b80601f016020809104026020016040519081016040528092919081815260200182805461035090610c48565b801561039d5780601f106103725761010080835404028352916020019161039d565b820191906000526020600020905b81548152906001019060200180831161038057829003601f168201915b505050505081526020019060010190610305565b50505050905090565b6000806001600160a01b03166002836040516103d691906109e6565b908152604051908190036020019020546001600160a01b0316141561040d5760405162461bcd60e51b81526004016101a190610b61565b60028260405161041d91906109e6565b908152604051908190036020019020546001600160a01b03169050919050565b6003818154811061044d57600080fd5b90600052602060002001600091509050805461046890610c48565b80601f016020809104026020016040519081016040528092919081815260200182805461049490610c48565b80156104e15780601f106104b6576101008083540402835291602001916104e1565b820191906000526020600020905b8154815290600101906020018083116104c457829003601f168201915b505050505081565b80516020818301810180516001825292820191909301209152546001600160a01b031681565b6001600160a01b0381166000908152602081815260409182902080548351818402810184019094528084526060939283018282801561057757602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610559575b50505050509050919050565b600080805260209081527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5805460408051828502810185019091528181526060939092919083018282801561060157602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116105e3575b5050505050905090565b60006001600160a01b031660028484604051610628929190610a02565b908152604051908190036020019020546001600160a01b03161461065e5760405162461bcd60e51b81526004016101a190610bd4565b8060028484604051610671929190610a02565b90815260405190819003602001902080546001600160a01b03929092166001600160a01b0319909216919091179055600380546001810182556000919091526106dd907fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b018484610726565b50806001600160a01b03167f6718dfd55f2c8a35b1a954f6fcc62a3d28a6f996fa4a157974ad6f42a0e67b518484604051610719929190610ad3565b60405180910390a2505050565b82805461073290610c48565b90600052602060002090601f016020900481019282610754576000855561079a565b82601f1061076d5782800160ff1982351617855561079a565b8280016001018555821561079a579182015b8281111561079a57823582559160200191906001019061077f565b506107a69291506107aa565b5090565b5b808211156107a657600081556001016107ab565b600082601f8301126107cf578081fd5b813567ffffffffffffffff808211156107ea576107ea610c83565b604051601f8301601f19168101602001828111828210171561080e5761080e610c83565b604052828152848301602001861015610825578384fd5b82602086016020830137918201602001929092529392505050565b600060208284031215610851578081fd5b813561085c81610c99565b9392505050565b600060208284031215610874578081fd5b815161085c81610c99565b600080600060408486031215610893578182fd5b833567ffffffffffffffff808211156108aa578384fd5b818601915086601f8301126108bd578384fd5b8135818111156108cb578485fd5b8760208285010111156108dc578485fd5b602092830195509350508401356108f281610c99565b809150509250925092565b60006020828403121561090e578081fd5b813567ffffffffffffffff811115610924578182fd5b610930848285016107bf565b949350505050565b60008060006060848603121561094c578283fd5b833567ffffffffffffffff80821115610963578485fd5b61096f878388016107bf565b94506020860135915080821115610984578384fd5b50610991868287016107bf565b925050604084013590509250925092565b6000602082840312156109b3578081fd5b5035919050565b600081518084526109d2816020860160208601610c18565b601f01601f19169290920160200192915050565b600082516109f8818460208701610c18565b9190910192915050565b6000828483379101908152919050565b6001600160a01b0391909116815260200190565b6020808252825182820181905260009190848201906040850190845b81811015610a675783516001600160a01b031683529284019291840191600101610a42565b50909695505050505050565b6000602080830181845280855180835260408601915060408482028701019250838701855b82811015610ac657603f19888603018452610ab48583516109ba565b94509285019290850190600101610a98565b5092979650505050505050565b60006020825282602083015282846040840137818301604090810191909152601f909201601f19160101919050565b60006020825261085c60208301846109ba565b600060408252610b2860408301856109ba565b905060018060a01b03831660208301529392505050565b600060408252610b5260408301856109ba565b90508260208301529392505050565b60208082526024908201527f466c61766f7220776974682074686973206e616d6520646f6573206e6f7420656040820152631e1a5cdd60e21b606082015260800190565b602080825260159082015274121bdb1bdb8818dc99585d1a5bdb8819985a5b1959605a1b604082015260600190565b60208082526024908201527f466c61766f7220776974682074686973206e616d6520616c72656164792065786040820152636973747360e01b606082015260800190565b60005b83811015610c33578181015183820152602001610c1b565b83811115610c42576000848401525b50505050565b600281046001821680610c5c57607f821691505b60208210811415610c7d57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b6001600160a01b0381168114610cae57600080fd5b5056fea26469706673582212207aca87f06f5197b9171dae20854c59469d853c03b6079024de40660901838dfe64736f6c63430008000033","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106100885760003560e01c80637e4115ba1161005b5780637e4115ba146100fe578063dfee571714610111578063e5c2337414610131578063f690335a1461013957610088565b80630babba861461008d5780631bef6cd4146100b65780632c0e7860146100cb5780637b72401f146100de575b600080fd5b6100a061009b366004610938565b61014e565b6040516100ad9190610a12565b60405180910390f35b6100be6102e1565b6040516100ad9190610a73565b6100a06100d93660046108fd565b6103ba565b6100f16100ec3660046109a2565b61043d565b6040516100ad9190610b02565b6100a061010c3660046108fd565b6104e9565b61012461011f366004610840565b61050f565b6040516100ad9190610a26565b610124610583565b61014c61014736600461087f565b61060b565b005b6000806001600160a01b031660028560405161016a91906109e6565b908152604051908190036020019020546001600160a01b031614156101aa5760405162461bcd60e51b81526004016101a190610b61565b60405180910390fd5b60006002856040516101bc91906109e6565b908152604051908190036020018120546001600160a01b03169150600090819083906101ee9088908890602401610b3f565b60408051601f198184030181529181526020820180516001600160e01b0316630e43cb2760e41b1790525161022391906109e6565b600060405180830381855af49150503d806000811461025e576040519150601f19603f3d011682016040523d82523d6000602084013e610263565b606091505b5091509150816102855760405162461bcd60e51b81526004016101a190610ba5565b60008180602001905181019061029b9190610863565b90507f10d047031611691941b661f2160741619b4030812eb79997f4b3734ed5605a4387826040516102ce929190610b15565b60405180910390a1979650505050505050565b60606003805480602002602001604051908101604052809291908181526020016000905b828210156103b157838290600052602060002001805461032490610c48565b80601f016020809104026020016040519081016040528092919081815260200182805461035090610c48565b801561039d5780601f106103725761010080835404028352916020019161039d565b820191906000526020600020905b81548152906001019060200180831161038057829003601f168201915b505050505081526020019060010190610305565b50505050905090565b6000806001600160a01b03166002836040516103d691906109e6565b908152604051908190036020019020546001600160a01b0316141561040d5760405162461bcd60e51b81526004016101a190610b61565b60028260405161041d91906109e6565b908152604051908190036020019020546001600160a01b03169050919050565b6003818154811061044d57600080fd5b90600052602060002001600091509050805461046890610c48565b80601f016020809104026020016040519081016040528092919081815260200182805461049490610c48565b80156104e15780601f106104b6576101008083540402835291602001916104e1565b820191906000526020600020905b8154815290600101906020018083116104c457829003601f168201915b505050505081565b80516020818301810180516001825292820191909301209152546001600160a01b031681565b6001600160a01b0381166000908152602081815260409182902080548351818402810184019094528084526060939283018282801561057757602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610559575b50505050509050919050565b600080805260209081527fad3228b676f7d3cd4284a5443f17f1962b36e491b30a40b2405849e597ba5fb5805460408051828502810185019091528181526060939092919083018282801561060157602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116105e3575b5050505050905090565b60006001600160a01b031660028484604051610628929190610a02565b908152604051908190036020019020546001600160a01b03161461065e5760405162461bcd60e51b81526004016101a190610bd4565b8060028484604051610671929190610a02565b90815260405190819003602001902080546001600160a01b03929092166001600160a01b0319909216919091179055600380546001810182556000919091526106dd907fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b018484610726565b50806001600160a01b03167f6718dfd55f2c8a35b1a954f6fcc62a3d28a6f996fa4a157974ad6f42a0e67b518484604051610719929190610ad3565b60405180910390a2505050565b82805461073290610c48565b90600052602060002090601f016020900481019282610754576000855561079a565b82601f1061076d5782800160ff1982351617855561079a565b8280016001018555821561079a579182015b8281111561079a57823582559160200191906001019061077f565b506107a69291506107aa565b5090565b5b808211156107a657600081556001016107ab565b600082601f8301126107cf578081fd5b813567ffffffffffffffff808211156107ea576107ea610c83565b604051601f8301601f19168101602001828111828210171561080e5761080e610c83565b604052828152848301602001861015610825578384fd5b82602086016020830137918201602001929092529392505050565b600060208284031215610851578081fd5b813561085c81610c99565b9392505050565b600060208284031215610874578081fd5b815161085c81610c99565b600080600060408486031215610893578182fd5b833567ffffffffffffffff808211156108aa578384fd5b818601915086601f8301126108bd578384fd5b8135818111156108cb578485fd5b8760208285010111156108dc578485fd5b602092830195509350508401356108f281610c99565b809150509250925092565b60006020828403121561090e578081fd5b813567ffffffffffffffff811115610924578182fd5b610930848285016107bf565b949350505050565b60008060006060848603121561094c578283fd5b833567ffffffffffffffff80821115610963578485fd5b61096f878388016107bf565b94506020860135915080821115610984578384fd5b50610991868287016107bf565b925050604084013590509250925092565b6000602082840312156109b3578081fd5b5035919050565b600081518084526109d2816020860160208601610c18565b601f01601f19169290920160200192915050565b600082516109f8818460208701610c18565b9190910192915050565b6000828483379101908152919050565b6001600160a01b0391909116815260200190565b6020808252825182820181905260009190848201906040850190845b81811015610a675783516001600160a01b031683529284019291840191600101610a42565b50909695505050505050565b6000602080830181845280855180835260408601915060408482028701019250838701855b82811015610ac657603f19888603018452610ab48583516109ba565b94509285019290850190600101610a98565b5092979650505050505050565b60006020825282602083015282846040840137818301604090810191909152601f909201601f19160101919050565b60006020825261085c60208301846109ba565b600060408252610b2860408301856109ba565b905060018060a01b03831660208301529392505050565b600060408252610b5260408301856109ba565b90508260208301529392505050565b60208082526024908201527f466c61766f7220776974682074686973206e616d6520646f6573206e6f7420656040820152631e1a5cdd60e21b606082015260800190565b602080825260159082015274121bdb1bdb8818dc99585d1a5bdb8819985a5b1959605a1b604082015260600190565b60208082526024908201527f466c61766f7220776974682074686973206e616d6520616c72656164792065786040820152636973747360e01b606082015260800190565b60005b83811015610c33578181015183820152602001610c1b565b83811115610c42576000848401525b50505050565b600281046001821680610c5c57607f821691505b60208210811415610c7d57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b6001600160a01b0381168114610cae57600080fd5b5056fea26469706673582212207aca87f06f5197b9171dae20854c59469d853c03b6079024de40660901838dfe64736f6c63430008000033","abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"flavor","type":"address"},{"indexed":false,"internalType":"string","name":"name","type":"string"}],"name":"NewFlavor","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"address","name":"addr","type":"address"}],"name":"NewHolon","type":"event"},{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"name":"getFlavorAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"knownflavors","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"listFlavors","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"listHolons","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"listHolonsOf","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_flavorname","type":"string"},{"internalType":"address","name":"_flavoraddress","type":"address"}],"name":"newFlavor","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_flavor","type":"string"},{"internalType":"string","name":"_name","type":"string"},{"internalType":"uint256","name":"_parameter","type":"uint256"}],"name":"newHolon","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"toAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]}